(this["webpackJsonptiny-manager-client"]=this["webpackJsonptiny-manager-client"]||[]).push([[0],{123:function(e){e.exports=JSON.parse("{}")},124:function(e){e.exports=JSON.parse("{}")},125:function(e){e.exports=JSON.parse('{"Name":"Name","Description":"Description","Save":"Save","Cancel":"Cancel","Title":"Title","Priority":"Priority","Note":"Note","Percentage":"Percentage","Nothing to be completed. Enjoy your day.":"Nothing to be completed. Enjoy your day.","Home":"Home","Projects":"Projects","Todos":"Todos","Notes":"Notes","Default Notes":"Default Notes","Download Note":"Download Note","Clear Note":"Clear Note","You can enter your notes here...":"You can enter your notes here...","Notes will be stored locally on the browser and will be persisted.":"Notes will be stored locally on the browser and will be persisted.","TXT":"TXT","PDF":"PDF","Name is required.":"Name is required.","Edit Project":"Edit Project","New Project":"New Project"}')},126:function(e){e.exports=JSON.parse("{}")},127:function(e){e.exports=JSON.parse("{}")},128:function(e){e.exports=JSON.parse("{}")},129:function(e){e.exports=JSON.parse("{}")},130:function(e){e.exports=JSON.parse("{}")},165:function(e,t,a){e.exports=a(184)},183:function(e,t,a){},184:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(10),i=a.n(r),l=a(44),c=a(14),s=a(234),u=a(11),d=a(233),m=a(238),h=a(239),f=a(52),p=a(145),g=a(237),b=a(235),y=a(5),v=a(146),k=a(232),w=a(112),j=a.n(w),E=a(116),C=a.n(E),O=a(117),N=a.n(O),x=a(118),S=a.n(x),T=a(83),D=a.n(T),I=a(119),P=a.n(I),W=a(120),A=a.n(W),M={filter:j.a,edit:C.a,attachment:N.a,invertColors:S.a,delete:D.a,language:P.a,github:A.a};var B=function(e){var t=e.icon,a=Object(v.a)(e,["icon"]),n=M[t];return o.a.createElement(k.a,Object.assign({size:"small"},a),o.a.createElement(n,null))};function J(){}function L(e){return e}var R=Object(y.a)((function(e){return{root:{boxShadow:e.custom.shadow[0]}}}))(d.a),Y=Object(s.a)({title:{flexGrow:1,cursor:"pointer"},logo:{fontSize:"1.25rem"}});function F(e){var t=e.onClick;return o.a.createElement(B,{icon:"invertColors",size:"small",color:"primary",onClick:t})}function V(){return o.a.createElement(B,{color:"inherit",icon:"github",component:b.a,href:"https://github.com/nishantpainter/tiny-manager",target:"_blank"})}function z(e){var t=e.languages,a=e.onChange,r=Object(n.useState)(null),i=Object(u.a)(r,2),l=i[0],c=i[1],s=function(){c(null)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(B,{icon:"language",size:"small",color:"primary",onClick:function(e){c(e.currentTarget)},disabled:!t.length}),o.a.createElement(p.a,{id:"language-selection",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:s},t.map((function(e){var t,n=e.value,r=e.label;return o.a.createElement(g.a,{onClick:(t=n,function(e){a&&(a(e,t),s())}),key:n},r)}))))}function H(e){var t=e.onToggleDarkMode,a=e.languages,n=void 0===a?[]:a,r=e.onlanguageChange,i=e.translate,c=Y();return o.a.createElement(R,{color:"default"},o.a.createElement(m.a,{variant:"dense"},o.a.createElement(f.a,{color:"primary",className:c.title,component:l.b,to:"/"},o.a.createElement("b",null,"Tiny Manager"),"\xa0",o.a.createElement("span",{role:"img","aria-label":"Ant",className:c.logo},"\ud83d\udc1c")),o.a.createElement(h.a,{color:"primary",size:"large",component:l.b,to:"/"},i("Home")),"\xa0",o.a.createElement(h.a,{color:"primary",size:"large",component:l.b,to:"/projects"},i("Projects")),o.a.createElement(F,{onClick:t}),"\xa0",o.a.createElement(z,{languages:n,onChange:r}),"\xa0",o.a.createElement(V,null)))}z.defaultProps={languages:[]},H.defaultProps={translate:L};var K=H,G=a(242),U=a(143),q=a(241),X=a(92),_=a(90),Q=a(89),$=a(240),Z=a(91),ee=a(47),te=a.n(ee),ae=a(9),ne=a(68),oe=new(a(121).a)("TinyManager");function re(){return(re=Object(ne.a)(te.a.mark((function e(t){var a,n,o,r=arguments;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:{},n=a.where,o=oe[t],n&&(o=o.where(n)),e.abrupt("return",o.reverse().toArray());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,t){return oe[e].get(t)}oe.version(1).stores({projects:"++id,name"}),oe.version(1).stores({todos:"++id,title,completed"}),oe.version(1).stores({tasks:"++id,title,projectId"}),oe.projects.defineClass({name:String,description:String,createdAt:Date,updatedAt:Date}),oe.todos.defineClass({title:String,completed:Boolean}),oe.tasks.defineClass({title:String,note:String,priority:Number,progress:Number,projectId:Number,createdAt:Date,updatedAt:Date});var le={find:function(e){return re.apply(this,arguments)},findOne:ie,insert:function(e,t){return t=Object(ae.a)({},t,{createdAt:new Date,updatedAt:new Date}),oe[e].add(t).then((function(t){return ie(e,t)}))},update:function(e,t){return t=Object(ae.a)({},t,{updatedAt:new Date}),oe[e].update(t.id,t).then((function(a){return a?ie(e,t.id):new Error("Error updating record")}))},remove:function(e,t){return oe[e].delete(t.id)},removeBulk:function(e,t){return oe[e].bulkDelete(t)},getTable:function(e){return{name:oe.table(e).name}}};function ce(e,t,a){a.setItem(e,JSON.stringify(t))}function se(e,t){try{return JSON.parse(t.getItem(e))}catch(a){return}}var ue={setDefaultNotes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:localStorage;ce("dn",e,t)},getDefaultNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:localStorage;return se("dn",e)},setDarkMode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:localStorage;ce("dm",e,t)},getDarkMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:localStorage;return se("dm",e)},setNotes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:localStorage;ce("ns",e,t)},getNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:localStorage;return se("ns",e)},DEFAULT_NOTES:"dn",DARK_MODE:"dm",NOTES:"ns"};var de={fetchProjects:function(){return le.find("projects")},fetchProject:function(e){return le.findOne("projects",e)},fetchTasks:function(e){return le.find("tasks",{where:{projectId:e}})},fetchTask:function(e){return le.findOne("tasks",e)},addProject:function(e){return le.insert("projects",e)},addTask:function(e){return le.insert("tasks",e)},updateProject:function(e,t){return le.update("projects",t)},updateTask:function(e,t){return le.update("tasks",t)},removeTodo:function(e){return le.remove("todos",e)},removeBulkTodos:function(e){return le.removeBulk("todos",e)},removeProject:function(e){return le.remove("projects",{id:e})},removeBulkProjects:function(e){return le.removeBulk("projects",e)},removeTask:function(e){return le.remove("tasks",{id:e})},removeBulkTasks:function(e){return le.removeBulk("tasks",e)},fetchTodos:function(){return le.find("todos")},addTodo:function(e){return le.insert("todos",e)},updateTodo:function(e){return le.update("todos",e)},fetchNotes:function(){return ue.getNotes()||""},updateNotes:function(e){return ue.setNotes(e)},updateDefaultNotes:function(e){ue.setDefaultNotes(e)},fetchDefaultNotes:function(){return ue.getDefaultNotes()},updateDarkMode:function(e){ue.setDarkMode(e)},fetchDarkMode:function(){return ue.getDarkMode()}},me=o.a.createContext();var he=function(e){var t=e.children,a=e.darkMode,n=void 0!==a&&a,r=o.a.useState(n||de.fetchDarkMode()),i=Object(u.a)(r,2),l=i[0],c=i[1],s=o.a.useCallback((function(){c((function(e){return de.updateDarkMode(!e),!e}))}),[]),d=Object(U.a)({palette:{type:l?"dark":"light",primary:l?X.a:_.a,secondary:Q.a,error:l?$.a:Z.a},typography:{fontFamily:"'Fira Sans', sans-serif"},props:{MuiTextField:{variant:"outlined"},MuiButton:{size:"small"}},overrides:{MuiButton:{root:{textTransform:"none"}}},custom:{shadow:["0px 0px 30px rgba(0,0,0,0.2)"]}});return o.a.createElement(me.Provider,{value:{toggleDarkMode:s}},o.a.createElement(q.a,{theme:d},o.a.createElement(G.a,null),t))},fe=a(144),pe=a(40),ge=a(123),be=a(124),ye=a(125),ve=a(126),ke=a(127),we=a(128),je=a(129),Ee=a(130),Ce=a(243),Oe=a(265),Ne=Object(n.createContext)({}),xe={cn:{translation:ge},de:{translation:be},en:{translation:ye},es:{translation:ve},fr:{translation:ke},in:{translation:we},jp:{translation:Ee},ru:{translation:je}};fe.a.use(pe.e).init({resources:xe,lng:"en",fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});var Se=function(e){var t=e.children,a=Object(n.useMemo)((function(){return{}}),[]);return o.a.createElement(Ne.Provider,{value:a},t)};var Te=function(){var e=o.a.useContext(me).toggleDarkMode,t=Object(Ce.a)(),a=t.t,r=t.i18n,i=Object(n.useCallback)((function(e,t){r.changeLanguage(t)}),[r]),l=Object(n.useMemo)((function(){return[{label:"English",value:"en"},{label:"French",value:"fr"}]}),[]);return o.a.createElement(K,{translate:a,onToggleDarkMode:e,onlanguageChange:i,languages:l})},De=a(249),Ie=a(261),Pe=a(258),We=a(257),Ae=a(264),Me=a(135),Be=a.n(Me),Je=a(260),Le=a(266),Re=a(136),Ye=a(138),Fe=a.n(Ye),Ve=a(139),ze=a.n(Ve),He=a(137),Ke=a.n(He);function Ge(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.join("")}function Ue(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce((function(e,t){return Object(ae.a)({},e,{},t)}),{})}function qe(e,t){return function(a){return o.a.createElement(e,Object.assign({},a,t))}}function Xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY";return e&&Ke()(e).format(t)}var _e=Object(s.a)((function(e){return{container:{display:"flex",width:"100%",overflow:"hidden",flexDirection:"column",flex:1},action:{marginBottom:e.spacing(1)},input:{display:"flex",overflow:"auto",flex:1},inputRoot:{flex:1},inputControl:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},caption:{display:"block",textAlign:"right",marginTop:e.spacing(1)}}}));function Qe(e){var t=e.notes,a=Object(Ce.a)().t,r=Object(n.useState)(null),i=Object(u.a)(r,2),l=i[0],c=i[1],s=Object(n.useCallback)((function(e){c(e.currentTarget)}),[]),d=Object(n.useCallback)((function(){c(null)}),[]),m=Object(n.useCallback)((function(e){return function(t){d(),e(t)}}),[d]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(k.a,{onClick:s,color:"primary",size:"small",title:a("Download Note"),disabled:!t},o.a.createElement(Fe.a,null)),o.a.createElement(p.a,{anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:d},o.a.createElement(g.a,{onClick:m((function(){return et(t)}))},a("TXT")),o.a.createElement(g.a,{onClick:m((function(){return e=t,void(new Re.a).text(e,10,10).save(Ze("pdf"));var e}))},a("PDF"))))}var $e=Be()(de.updateNotes,150);function Ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"txt";return"Note-".concat(Xe(),".").concat(e)}function et(e){var t=window.URL.createObjectURL(new Blob([e]),{type:"text/plain"}),a=document.createElement("a");a.href=t,a.setAttribute("download",Ze()),a.click()}var tt=function(){var e=_e(),t=Object(Ce.a)().t,a=Object(n.useState)(de.fetchNotes()),r=Object(u.a)(a,2),i=r[0],l=r[1],c=Object(n.useCallback)((function(e){var t=e.target.value;l(t),$e(t)}),[]),s=Object(n.useCallback)((function(){c({target:{value:""}})}),[c]),d=Object(n.useCallback)((function(e){"s"===e.key&&!0===e.ctrlKey&&(e.preventDefault(),et(i))}),[i]);return o.a.createElement("div",{className:e.container},o.a.createElement(Je.a,{className:e.action,display:"flex",alignItems:"center",justifyContent:"flex-end"},o.a.createElement(Qe,{notes:i}),o.a.createElement(k.a,{disabled:!i,onClick:s,size:"small",title:t("Clear Note")},o.a.createElement(ze.a,null))),o.a.createElement("div",{className:e.input},o.a.createElement(Le.a,{classes:{root:e.inputRoot},InputProps:{classes:{root:e.inputControl}},inputProps:{style:{overflow:"auto"}},onChange:c,onKeyDown:d,value:i,placeholder:t("You can enter your notes here..."),multiline:!0,fullWidth:!0,autoFocus:!0})),o.a.createElement(f.a,{className:e.caption,color:"textSecondary",variant:"caption"},"*",t("Notes will be stored locally on the browser and will be persisted.")))},at=a(46),nt=a(248),ot=a(269),rt=a(250),it=a(247),lt=a(4),ct=a.n(lt),st=(ct.a.shape({id:ct.a.oneOfType([ct.a.string,ct.a.number]),name:ct.a.string,description:ct.a.string}),ct.a.shape({id:ct.a.oneOfType([ct.a.string,ct.a.number]),title:ct.a.string,note:ct.a.string,priority:ct.a.number,progress:ct.a.number}),ct.a.shape({id:ct.a.oneOfType([ct.a.string,ct.a.number]),title:ct.a.string,completed:ct.a.bool}),Object(s.a)((function(e){return{form:{padding:e.spacing(2),height:"auto"}}})));function ut(e){var t=e.title,a=e.values,n=e.errors,r=e.disabled,i=e.translate,l=e.onChange,c=e.onSubmit,s=e.onCancel,u=st();return o.a.createElement("form",{onSubmit:c,className:u.form,noValidate:!0},o.a.createElement(it.a,{container:!0,spacing:2},o.a.createElement(it.a,{item:!0,xs:12},o.a.createElement(f.a,{variant:"h5",align:"center",gutterBottom:!0},t),o.a.createElement(nt.a,null)),o.a.createElement(it.a,{item:!0,xs:12},o.a.createElement(Le.a,{margin:"dense",id:"title",name:"title",label:i("Title"),disabled:r,value:a.title,error:Boolean(n.title),helperText:n.title,onChange:l,fullWidth:!0,required:!0,autoFocus:!0})),o.a.createElement(it.a,{item:!0,xs:12,align:"right"},o.a.createElement(h.a,{variant:"outlined",disabled:r,onClick:s},i("Cancel")),"\xa0",o.a.createElement(h.a,{color:"primary",variant:"contained",type:"submit",disabled:r},i("Save")))))}ut.defaultProps={title:"Add Todo",values:{},errors:{},disabled:!1,translate:L,onSubmit:function(e){return e.preventDefault()},onChange:J,onCancel:J};var dt=ut,mt=a(57);var ht=function(e){var t=e.initialValue,a=void 0===t?{}:t,n=e.open,r=e.disabled,i=e.onClose,l=e.onSubmit,c=Object(Ce.a)().t,s=Object(mt.a)({initialValues:Ue({title:""},a),validate:function(e){var t={};return e.title||(t.title=c("Title is required")),t},onSubmit:function(e){l(e)},enableReinitialize:!0}),u=s.values,d=s.errors,m=s.handleChange,h=s.handleSubmit,f=u&&u.id,p=c(f?"Edit Todo":"Add Todo");return o.a.createElement(ot.a,{fullWidth:!0,maxWidth:"sm",open:n,onClose:i},o.a.createElement(rt.a,null,o.a.createElement(dt,{title:p,values:u,errors:d,disabled:r,translate:c,onChange:m,onCancel:i,onSubmit:h})))},ft=a(2),pt=a(251),gt=Object(s.a)((function(e){return{root:{height:"inherit",width:"inherit",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},top:{color:"transparent"},bottom:{color:e.palette.primary.main,animationDuration:"250ms",position:"absolute"}}}));var bt=function(e){var t=e.className,a=gt();return o.a.createElement("div",{className:Object(ft.a)(a.root,t)},o.a.createElement(pt.a,Object.assign({variant:"determinate",value:100,className:a.top,size:24,thickness:4},e)),o.a.createElement(pt.a,Object.assign({variant:"indeterminate",disableShrink:!0,className:a.bottom,size:24,thickness:4},e)))},yt=a(236),vt=a(187),kt=a(252),wt=a(253),jt=a(254),Et=Object(s.a)({item:{listStyle:"none"}});function Ct(e){var t=e.todo,a=e.divider,r=e.onClick,i=e.onCheck,l=e.onDelete,c=t.title,s=t.completed,u=Et(),d=Object(n.useCallback)((function(e){i&&i(e,t)}),[i,t]),m=Object(n.useCallback)((function(e){l&&l(e,t)}),[l,t]),h=Object(n.useCallback)((function(e){r&&r(e,t)}),[r,t]);return o.a.createElement(vt.a,{ContainerProps:{className:u.item},divider:a,button:!0,dense:!0},o.a.createElement(kt.a,null,o.a.createElement(Ae.a,{color:"primary",edge:"start",checked:s,disableRipple:!0,onChange:d})),o.a.createElement(wt.a,{onClick:h,primary:c,primaryTypographyProps:{color:s?"textSecondary":"initial"}}),o.a.createElement(jt.a,null,o.a.createElement(B,{icon:"delete",edge:"end",size:"small",onClick:m})))}Ct.defaultProps={todo:{},divider:!0};var Ot=Ct,Nt=Object(s.a)({list:{overflow:"auto",height:"90%"}});function xt(e){var t=e.todos,a=e.translate,n=e.onClick,r=e.onCheck,i=e.onDelete,l=Nt();return 0===t.length?o.a.createElement(f.a,null,a("Nothing to be completed. Enjoy your day.")):o.a.createElement(yt.a,{className:l.list},t.map((function(e){return o.a.createElement(Ot,{key:e.id,todo:e,onClick:n,onCheck:r,onDelete:i})})))}xt.defaultProps={todos:[],onClick:J,onCheck:J};var St=xt;var Tt=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],o=t[1],r=Object(n.useCallback)((function(){o(!0)}),[]),i=Object(n.useCallback)((function(){o(!1)}),[]),l=Object(n.useCallback)((function(){o((function(e){return!e}))}),[]);return Object(n.useMemo)((function(){return[a,r,i,l]}),[a,r,i,l])},Dt=a(256),It=a(255);function Pt(e){var t=e.title,a=e.content,n=e.open,r=e.translate,i=e.onClose,l=e.onConfirm,c=e.onCancel||i;return o.a.createElement(ot.a,{open:n,onClose:i},o.a.createElement(It.a,null,t),o.a.createElement(rt.a,null,a),o.a.createElement(Dt.a,null,o.a.createElement(h.a,{onClick:c},r("Cancel")),o.a.createElement(h.a,{variant:"contained",color:"primary",onClick:l},r("Confirm"))))}Pt.defaultProps={translate:L};var Wt=Pt,At=a(246),Mt=a(268),Bt=a(263);var Jt=function(e){var t=e.id,a=e.label,n=e.value,r=e.className,i=e.menu,l=e.disabled,c=e.onChange;return o.a.createElement(At.a,{margin:"dense",variant:"outlined",className:r},o.a.createElement(Mt.a,{id:t},a),o.a.createElement(Bt.a,{margin:"dense",label:a,labelId:t,variant:"outlined",value:n,onChange:c,disabled:l},i.map((function(e){return o.a.createElement(g.a,{value:e.value,key:e.value},e.label)}))))},Lt=Object(s.a)((function(e){return{container:{flex:1,overflow:"hidden",width:"100%",display:"flex",padding:e.spacing(1)},todosContainer:{flex:1,height:"100%",textAlign:"right"},todosFilter:{marginRight:e.spacing()}}})),Rt={Completed:"completed",Pending:"pending",All:"all"},Yt=Object.keys(Rt).map((function(e){return{label:e,value:Rt[e]}}));var Ft=function(){var e=Object(n.useState)({todos:[],todo:{title:""},loading:!1,saving:!1,edit:!1}),t=Object(u.a)(e,2),a=t[0],r=a.todos,i=a.todo,l=a.loading,c=a.saving,s=a.edit,d=t[1],m=Tt(),f=Object(u.a)(m,3),p=f[0],g=f[1],b=f[2],y=Object(n.useState)(Rt.All),v=Object(u.a)(y,2),k=v[0],w=v[1],j=Object(Ce.a)().t,E=Lt(),C=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];switch(k){case Rt.Completed:return e.filter((function(e){return e.completed}));case Rt.Pending:return e.filter((function(e){return!e.completed}));case Rt.All:default:return e}}),[k]),O=Object(n.useCallback)((function(){d((function(e){return Object(ae.a)({},e,{loading:!0})})),de.fetchTodos().then((function(e){d((function(t){return Object(ae.a)({},t,{todos:C(e),loading:!1})}))}))}),[C]),N=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{title:""};d((function(e){return Object(ae.a)({},e,{edit:!0,todo:Object(ae.a)({},t)})}))}),[]),x=Object(n.useCallback)((function(){d((function(e){return Object(ae.a)({},e,{edit:!1,todo:{title:""},errors:{}})}))}),[]),S=Object(n.useCallback)((function(e){de.addTodo(e).then((function(e){d((function(t){return Object(ae.a)({},t,{saving:!1,todos:[e].concat(Object(at.a)(t.todos))})})),x()})).catch((function(){d((function(e){return Object(ae.a)({},e,{saving:!1})})),alert("Error adding todo")}))}),[x]),T=Object(n.useCallback)((function(e){de.updateTodo(e).then((function(e){d((function(t){return Object(ae.a)({},t,{saving:!1,todos:t.todos.map((function(t){return t.id===e.id?e:t}))})})),x()})).catch((function(){d((function(e){return Object(ae.a)({},e,{saving:!1})})),alert("Error editing todo")}))}),[x]),D=Object(n.useCallback)((function(e){d((function(e){return Object(ae.a)({},e,{saving:!0})})),(e.id?T:S)(e)}),[S,T]),I=Object(n.useCallback)((function(e,t){t&&t.id&&de.updateTodo(Object.assign({},t,{completed:!t.completed})).then((function(){d((function(e){return Object(ae.a)({},e,{todos:e.todos.map((function(e){return e.id===t.id?Object(ae.a)({},e,{completed:!e.completed}):e}))})}))}))}),[]),P=Object(n.useCallback)((function(e,t){t&&t.id&&de.removeTodo(t).then((function(){d((function(e){return Object(ae.a)({},e,{todos:e.todos.filter((function(e){return e.id!==t.id}))})}))}))}),[]),W=Object(n.useCallback)((function(){r.length&&de.removeBulkTodos(r.map((function(e){return e.id}))).then((function(){d((function(e){return Object(ae.a)({},e,{todos:[]})}))})),b()}),[r,b]),A=Object(n.useCallback)((function(e){w(e.target.value)}),[]);return Object(n.useEffect)((function(){O()}),[O]),o.a.createElement("div",{className:E.container},o.a.createElement(nt.a,null),l?o.a.createElement(bt,null):o.a.createElement("div",{className:E.todosContainer},o.a.createElement(Je.a,{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:1,marginBottom:1},o.a.createElement(Jt,{id:"todo-filter-by",label:j("Filter By"),translate:j,value:k,className:E.todosFilter,menu:Yt,onChange:A}),o.a.createElement(Je.a,{display:"flex",justifyContent:"flex-end",alignItems:"center"},o.a.createElement(h.a,{color:"primary",variant:"outlined",onClick:g,disabled:!r.length},o.a.createElement(Oe.a,null,j("Delete All"))),"\xa0\xa0",o.a.createElement(h.a,{color:"primary",variant:"contained",onClick:N},o.a.createElement(Oe.a,null,j("Add"))))),o.a.createElement(St,{todos:r,translate:j,onClick:N,onCheck:I,onDelete:P})),s&&o.a.createElement(ht,{initialValue:i,open:s,disabled:c,onSubmit:D,onClose:x}),o.a.createElement(Wt,{title:j("Delete All Todos"),content:j("Do you want to remove all the todos ?"),open:p,translate:j,onClose:b,onConfirm:W}))},Vt=["\u201cAll our dreams can come true, if we have the courage to pursue them.\u201d \u2013 Walt Disney","\u201cThe secret of getting ahead is getting started.\u201d \u2013 Mark Twain","\u201cI\u2019ve missed more than 9,000 shots in my career. I\u2019ve lost almost 300 games. 26 times I\u2019ve been trusted to take the game winning shot and missed. I\u2019ve failed over and over and over again in my life and that is why I succeed.\u201d \u2013 Michael Jordan","\u201cDon\u2019t limit yourself. Many people limit themselves to what they think they can do. You can go as far as your mind lets you. What you believe, remember, you can achieve.\u201d \u2013 Mary Kay Ash","\u201cThe best time to plant a tree was 20 years ago. The second best time is now.\u201d \u2013 Chinese Proverb","\u201cOnly the paranoid survive.\u201d \u2013 Andy Grove","\u201cIt\u2019s hard to beat a person who never gives up.\u201d \u2013 Babe Ruthu","\u201cI wake up every morning and think to myself, \u2018how far can I push this company in the next 24 hours.\u2019\u201d \u2013 Leah Busque","\u201cIf people are doubting how far you can go, go so far that you can\u2019t hear them anymore.\u201d \u2013 Michele Ruiz","\u201cWe need to accept that we won\u2019t always make the right decisions, that we\u2019ll screw up royally sometimes \u2013 understanding that failure is not the opposite of success, it\u2019s part of success.\u201d \u2013 Arianna Huffington","\u201cWrite it. Shoot it. Publish it. Crochet it, saut\xe9 it, whatever. MAKE.\u201d \u2013 Joss Whedon","\u201cYou\u2019ve gotta dance like there\u2019s nobody watching, love like you\u2019ll never be hurt, sing like there\u2019s nobody listening, and live like it\u2019s heaven on earth.\u201d \u2015 William W. Purkey","\u201cFairy tales are more than true: not because they tell us that dragons exist, but because they tell us that dragons can be beaten.\u201d\u2015 Neil Gaiman","\u201cEverything you can imagine is real.\u201d\u2015 Pablo Picasso","\u201cWhen one door of happiness closes, another opens; but often we look so long at the closed door that we do not see the one which has been opened for us.\u201d \u2015 Helen Keller","\u201cDo one thing every day that scares you.\u201d\u2015 Eleanor Roosevelt","\u201cIt\u2019s no use going back to yesterday, because I was a different person then.\u201d\u2015 Lewis Carroll","\u201cSmart people learn from everything and everyone, average people from their experiences, stupid people already have all the answers.\u201d \u2013 Socrates","\u201cDo what you feel in your heart to be right \u2013 for you\u2019ll be criticized anyway.\u201d\u2015 Eleanor Roosevelt","\u201cHappiness is not something ready made. It comes from your own actions.\u201d \u2015 Dalai Lama XIV","\u201cWhatever you are, be a good one.\u201d \u2015 Abraham Lincoln","\u201cThe same boiling water that softens the potato hardens the egg. It\u2019s what you\u2019re made of. Not the circumstances.\u201d \u2013 Unknown","\u201cIf we have the attitude that it\u2019s going to be a great day it usually is.\u201d \u2013 Catherine Pulsifier","\u201cYou can either experience the pain of discipline or the pain of regret. The choice is yours.\u201d  \u2013 Unknown","\u201cImpossible is just an opinion.\u201d \u2013 Paulo Coelho","\u201cYour passion is waiting for your courage to catch up.\u201d \u2013 Isabelle Lafleche","\u201cMagic is believing in yourself. If you can make that happen, you can make anything happen.\u201d \u2013 Johann Wolfgang Von Goethe","\u201cIf something is important enough, even if the odds are stacked against you, you should still do it.\u201d \u2013 Elon Musk","\u201cHold the vision, trust the process.\u201d \u2013 Unknown","\u201cDon\u2019t be afraid to give up the good to go for the great.\u201d \u2013 John D. Rockefeller","\u201cPeople who wonder if the glass is half empty or full miss the point. The glass is refillable.\u201d \u2013 Unknown","\u201cNo one is to blame for your future situation but yourself. If you want to be successful, then become \u201cSuccessful.\u201d\u2015 Jaymin Shah","\u201cThings may come to those who wait, but only the things left by those who hustle.\u201d\u2015 Abraham Lincoln","\u201cEverything comes to him who hustles while he waits.\u201d\u2015 Thomas Edison","\u201cEvery sucessful person in the world is a hustler one way or another. We all hustle to get where we need to be. Only a fool would sit around and wait on another man to feed him.\u201d \u2015 K\u2019wan","\u201cInvest in your dreams. Grind now. Shine later.\u201d \u2013 Unknown","\u201cHustlers don\u2019t sleep, they nap.\u201d \u2013 Unknown","\u201cGreatness only comes before hustle in the dictionary.\u201d \u2013 Ross Simmonds","\u201cWithout hustle, talent will only carry you so far.\u201d \u2013 Gary Vaynerchuk","\u201cWork like there is someone working twenty four hours a day to take it away from you.\u201d \u2013 Mark Cuban","\u201cHustle in silence and let your success make the noise.\u201d \u2013 Unknown","\u201cWe are what we repeatedly do. Excellence, then, is not an act, but a habit.\u201d \u2013 Aristotle","\u201cIf you\u2019re offered a seat on a rocket ship, don\u2019t ask what seat! Just get on.\u201d \u2013 Sheryl Sandberg","\u201cI always did something I was a little not ready to do. I think that\u2019s how you grow. When there\u2019s that moment of \u2018Wow, I\u2019m not really sure I can do this,\u2019 and you push through those moments, that\u2019s when you have a breakthrough.\u201d \u2013 Marissa Mayer","\u201cIf you hear a voice within you say \u2018you cannot paint,\u2019 then by all means paint and that voice will be silenced.\u201d \u2013 Vincent Van Gogh","\u201cHow wonderful it is that nobody need wait a single moment before starting to improve the world.\u201d \u2013 Anne Frank","\u201cSome people want it to happen, some wish it would happen, others make it happen.\u201d \u2013 Michael Jordan","\u201cGreat things are done by a series of small things brought together\u201d \u2013 Vincent Van Gogh","\u201cIf you hire people just because they can do a job, they\u2019ll work for your money. But if you hire people who believe what you believe, they\u2019ll work for you with blood and sweat and tears.\u201d \u2013 Simon Sinek","\u201cVery often, a change of self is needed more than a change of scene.\u2019 \u2013 A.C. Benson","\u201cLeaders can let you fail and yet not let you be a failure.\u201d \u2013 Stanley McChrystal","\u201cIt\u2019s not the load that breaks you down, it\u2019s the way you carry it.\u201d \u2013 Lou Holtz","\u201cThe hard days are what make you stronger.\u201d \u2013 Aly Raisman","\u201cIf you believe it\u2019ll work out, you\u2019ll see opportunities. If you don\u2019t believe it\u2019ll work out, you\u2019ll see obstacles.\u201d \u2013 Wayne Dyer","\u201cKeep your eyes on the stars, and your feet on the ground.\u201d \u2013 Theodore Roosevelt","\u201cYou can waste your lives drawing lines. Or you can live your life crossing them.\u201d \u2013 Shonda Rhimes","\u201cYou\u2019ve got to get up every morning with determination if you\u2019re going to go to bed with satisfaction.\u201d \u2013 George Lorimer","\u201cI now tried a new hypothesis: It was possible that I was more in charge of my happiness than I was allowing myself to be.\u201d \u2013 Michelle Obama","\u201cIn a gentle way, you can shake the world.\u201d \u2013 Mahatma Gandhi","\u201cIf opportunity doesn\u2019t knock, build a door.\u201d \u2013 Kurt Cobain","\u201cDon\u2019t be pushed around by the fears in your mind. Be led by the dreams in your heart.\u201d \u2013 Roy T. Bennett","\u201cWork hard in silence, let your success be the noise.\u201d \u2013 Frank Ocean","\u201cDon\u2019t say you don\u2019t have enough time. You have exactly the same number of hours per day that were given to Helen Keller, Pasteur, Michelangelo, Mother Teresa, Leonardo Da Vinci, Thomas Jefferson, and Albert Einstein.\u201d \u2013 H. Jackson Brown Jr.","\u201cHard work beats talent when talent doesn\u2019t work hard.\u201d \u2013 Tim Notke","\u201cIf everything seems to be under control, you\u2019re not going fast enough.\u201d \u2013 Mario Andretti","\u201cOpportunity is missed by most people because it is dressed in overalls and looks like work.\u201d \u2013 Thomas Edison","\u201cThe only difference between ordinary and extraordinary is that little extra.\u201d \u2013 Jimmy Johnson","\u201cThe best way to appreciate your job is to imagine yourself without one.\u201d \u2013 Oscar Wilde","\u201cUnsuccessful people make their decisions based on their current situations. Successful people make their decisions based on where they want to be.\u201d \u2013 Benjamin Hardy","\u201cNever stop doing your best just because someone doesn\u2019t give you credit.\u201d \u2013 Kamari aka Lyrikal","\u201cWork hard for what you want because it won\u2019t come to you without a fight. You have to be strong and courageous and know that you can do anything you put your mind to. If somebody puts you down or criticizes you, just keep on believing in yourself and turn it into something positive.\u201d \u2013 Leah LaBelle","\u201cWork hard, be kind, and amazing things will happen.\u201d \u2013 Conan O\u2019Brien","\u201cThe miracle is not that we do this work, but that we are happy to do it.\u201d \u2013 Mother Teresa","\u201cNever give up on a dream just because of the time it will take to accomplish it. The time will pass anyway.\u201d \u2013 Earl Nightingale","\u201cIf you work on something a little bit every day, you end up with something that is massive.\u201d \u2013 Kenneth Goldsmith","\u201cThe big secret in life is that there is no secret. Whatever your goal, you can get there if you\u2019re willing to work.\u201d \u2013 Oprah Winfrey","\u201cIf you cannot do great things, do small things in a great way.\u201d \u2013 Napoleon Hill","\u201cNever allow a person to tell you no who doesn\u2019t have the power to say yes.\u201d \u2013 Eleanor Roosevelt","At any given moment you have the power to say: this is not how the story is going to end.\u201d \u2013 Unknown","\u201cAmateus sit around and wait for inspiration. The rest of us just get up and go to work.\u201d \u2013 Stephen King","\u201cYour work is going to fill a large part of your life, and the only way to be truly satisfied is to do what you believe is great work. And the only way to do great work is to love what you do. If you haven\u2019t found it yet, keep looking. Don\u2019t settle. As with all matters of the heart, you\u2019ll know when you find it.\u201d \u2013 Steve Jobs","\u201cNothing will work unless you do.\u201d \u2013 Maya Angelou","\u201cSometimes when you\u2019re in a dark place you think you\u2019ve been buried but you\u2019ve actually been planted.\u201d \u2013 Christine Caine","\u201cDon\u2019t limit your challenges. Challenge your limits.\u201d \u2013 Unknown","\u201cWhenever you find yourself doubting how far you can go, just remember how far you have come.\u201d \u2013 Unknown","\u201cEveryone has inside them a piece of good news. The good news is you don\u2019t know how great you can be! How much you can love! What you can accomplish! And what your potential is.\u201d \u2013 Anne Frank","\u201cSome luck lies in not getting what you thought you wanted but getting what you have, which once you have got it you may be smart enough to see is what you would have wanted had you known.\u201d \u2013 Garrison Keillor","\u201cDon\u2019t quit yet, the worst moments are usually followed by the most beautiful silver linings. You have to stay strong, remember to keep your head up and remain hopeful.\u201d \u2013 Unknown","\u201cWhen written in Chinese the word \u201ccrisis\u201d is composed of two characters \u2013 one represents danger and the other represents opportunity.\u201d \u2013 John F Kennedy","\u201cGood. Better. Best. Never let it rest. \u2018Til your good is better and your better is best.\u201d \u2013 St. Jerome.","\u201cIn the middle of every difficulty lies opportunity.\u201d \u2013 Albert Einstein","\u201cStart where you are. Use what you have. Do what you can.\u201d \u2013 Arthur Ashe","\u201cDreams don\u2019t work unless you do.\u201d \u2013 John C. Maxwell","\u201cGo the extra mile. It\u2019s never crowded there.\u201d \u2013 Dr. Wayne D. Dyer","\u201cKeep your face always toward the sunshine \u2013 and shadows will fall behind you.\u201d \u2013 Walt Whitman","\u201cWhat defines us is how well we rise after falling.\u201d \u2013 Lionel from Maid in Manhattan Movie","H.O.P.E. = Hold On. Pain Ends.","Make each day your masterpiece. \u2013 John Wooden","\u201cWherever you go, go with all your heart\u201d \u2013 Confucius","\u201cTurn your wounds into wisdom\u201d \u2013 Oprah","\u201cWe can do anything we want to if we stick to it long enough.\u201d \u2013 Helen Keller","\u201cBegin anywhere.\u201d \u2013 John Cage","\u201cSuccess is no accident. It is hard work, perseverance, learning, studying, sacrifice and most of all, love of what you are doing or learning to do.\u201d \u2013 Pele","\u201cWould you like me to give you a formula for success? It\u2019s quite simple, really: Double your rate of failure. You are thinking of failure as the enemy of success. But it isn\u2019t at all. You can be discouraged by failure or you can learn from it, so go ahead and make mistakes. Make all you can. Because remember that\u2019s where you will find success.\u201d \u2013 Thomas J. Watson","\u201cEvery champion was once a contender that didn\u2019t give up.\u201d \u2013 Gabby Douglas","\u201cTo be a champion, I think you have to see the big picture. It\u2019s not about winning and losing; it\u2019s about every day hard work and about thriving on a challenge. It\u2019s about embracing the pain that you\u2019ll experience at the end of a race and not being afraid. I think people think too hard and get afraid of a certain challenge.\u201d \u2013 Summer Sanders","Don\u2019t dream about success. Get out there and work for it.","\u201cThe difference between successful people and very successful people is that very successful people say \u2018no\u2019 to almost everything.\u201d \u2013 Warren Buffett","You can cry, scream, and bang your head in frustration but keep pushing forward. It\u2019s worth it.","\u201cI hated every minute of training, but I said, \u2018Don\u2019t quit. Suffer now and live the rest of your life as a champion.\u201d \u2013 Muhammad Ali","\u201cOpportunities don\u2019t happen. You create them.\u201d \u2013 Chris Grosser","\u201cSuccess is liking yourself, liking what you do, and liking how you do it.\u201d \u2013 Maya Angelou","\u201cIf you obey all the rules, you miss all the fun.\u201d \u2013 Katharine Hepburn","\u201cYou were born to be a player. You were meant to be here. This moment is yours.\u201d \u2013 Herb Brooks","\u201cLife is not what you alone make it. Life is the input of everyone who touched your life and every experience that entered it. We are all part of one another.\u201d \u2013 Yuri Kochiyama","\u201cWhen you reach the end of your rope, tie a knot and hang out.\u201d \u2013 Abraham Lincoln","\u201cNever regret anything that made you smile.\u201d \u2013 Mark Twain","\u201cYou must do the thing you think you cannot do.\u201d \u2013 Eleanor Roosevelt","\u201cIf you want to fly give up everything that weighs you down.\u201d \u2013 Buddha","\u201cDoubt kills more dreams than failure ever will.\u201d \u2013 Suzy Kassem","\u201cI never lose. Either I win or learn.\u201d \u2013 Nelson Mandela","\u201cToday is your opportunity to build the tomorrow you want.\u201d \u2013 Ken Poirot","\u201cGetting over a painful experience is much like crossing the monkey bars. You have to let go at some point in order to move forward.\u201d \u2013 C.S. Lewis"],zt=Vt.length;var Ht={getQuote:function(){var e,t=(e=zt-1,Math.floor(Math.random()*Math.floor(e)));return Vt[t]}},Kt=0,Gt=1,Ut=Object(s.a)((function(){return{container:{display:"flex",flex:1,justifyContent:"center"},content:{width:"100%",height:"100%",display:"flex",flex:1,flexDirection:"column",alignItems:"center",maxWidth:500},checkbox:{alignSelf:"flex-end"}}})),qt=Ht.getQuote();var Xt=function(){var e=Ut(),t=Object(Ce.a)().t,a=de.fetchDefaultNotes(),r=Object(n.useState)(a?Gt:Kt),i=Object(u.a)(r,2),l=i[0],c=i[1],s=Object(n.useState)(a),d=Object(u.a)(s,2),m=d[0],h=d[1],p=Object(n.useCallback)((function(e,t){c(t)}),[]),g=Object(n.useCallback)((function(e){var t=e.target.checked;h(t),de.updateDefaultNotes(t)}),[]);return o.a.createElement(De.a,{in:!0},o.a.createElement("div",{className:e.container},o.a.createElement("div",{className:e.content},o.a.createElement("div",null,o.a.createElement(f.a,{variant:"body1",color:"textSecondary",gutterBottom:!0},qt)),o.a.createElement("div",{className:e.checkbox},o.a.createElement(We.a,{control:o.a.createElement(Ae.a,{color:"primary",checked:m,onChange:g}),label:t("Default Notes")})),o.a.createElement("div",null,o.a.createElement(Ie.a,{value:l,indicatorColor:"primary",textColor:"primary",onChange:p},o.a.createElement(Pe.a,{label:t("Todos"),value:Kt}),o.a.createElement(Pe.a,{label:t("Notes"),value:Gt}))),l===Kt&&o.a.createElement(Ft,null),l===Gt&&o.a.createElement(tt,null))))},_t=a(186),Qt=Object(y.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:e.custom.shadow[0],borderRadius:e.spacing(.5),padding:e.spacing(),height:e.spacing(15)}}}))(_t.a);Qt.displayName="Paper",Qt.propTypes={className:ct.a.string};var $t=Qt,Zt=[{value:0,label:"Low"},{value:1,label:"Medium"},{value:2,label:"High"}],ea=new Array(11).fill(0).map((function(e,t){return{value:10*t,label:"".concat(10*t,"%")}})),ta=Object(s.a)((function(e){return{paper:{padding:e.spacing(2),height:"auto"}}}));function aa(e){var t=e.title,a=e.values,n=e.errors,r=e.disabled,i=e.translate,l=e.onSubmit,c=e.onChange,s=e.onCancel,u=ta();return o.a.createElement("form",{onSubmit:l,noValidate:!0},o.a.createElement($t,{className:u.paper},o.a.createElement(it.a,{container:!0,justify:"center",alignItems:"center",spacing:2},o.a.createElement(it.a,{item:!0,xs:12},o.a.createElement(f.a,{variant:"h5",align:"center",gutterBottom:!0},t),o.a.createElement(nt.a,null)),o.a.createElement(it.a,{item:!0,xs:12,sm:6},o.a.createElement(Le.a,{id:"title",name:"title",label:i("Title"),margin:"dense",disabled:r,error:Boolean(n.title),helperText:n.title,value:a.title,onChange:c,fullWidth:!0,required:!0})),o.a.createElement(it.a,{item:!0,xs:12,sm:6},o.a.createElement(At.a,{variant:"outlined",margin:"dense",disabled:r,fullWidth:!0},o.a.createElement(Mt.a,null,"Priority"),o.a.createElement(Bt.a,{label:i("Priority"),margin:"dense",name:"priority",defaultValue:Zt[0].value,value:a.priority,onChange:c},Zt.map((function(e){return o.a.createElement(g.a,{key:e.value,value:e.value},i(e.label))}))))),o.a.createElement(it.a,{item:!0,xs:12},o.a.createElement(Le.a,{id:"note",name:"note",label:i("Note"),rows:4,disabled:r,error:Boolean(n.note),helperText:n.note,value:a.note,onChange:c,fullWidth:!0,multiline:!0})),o.a.createElement(it.a,{item:!0,xs:12,sm:6},o.a.createElement(At.a,{variant:"outlined",margin:"dense",disabled:r,fullWidth:!0},o.a.createElement(Mt.a,null,"Progress"),o.a.createElement(Bt.a,{name:"progress",label:i("Percentage"),margin:"dense",defaultValue:ea[0].value,value:a.progress,onChange:c},ea.map((function(e){return o.a.createElement(g.a,{key:e.value,value:e.value},e.label)}))))),o.a.createElement(it.a,{item:!0,xs:12,sm:6}),o.a.createElement(it.a,{item:!0,xs:12,align:"right"},o.a.createElement(h.a,{variant:"outlined",disabled:r,onClick:s},i("Cancel")),"\xa0",o.a.createElement(h.a,{color:"primary",variant:"contained",type:"submit",disabled:r},i("Save"))))))}aa.defaultProps={values:{},errors:{},disabled:!1,title:"New Task",translate:L,onChange:J,onSubmit:function(e){e.preventDefault()},onCancel:J};var na=aa;var oa=function(e){var t=e.onCancel,a=e.onSubmit,n=e.initialValues,r=Object(Ce.a)().t,i=Object(mt.a)({initialValues:Object(ae.a)({title:"",note:"",priority:0,progress:0},n),validate:function(e){var t={};return e.title||(t.title="Title is required."),t},onSubmit:function(e){a(e)},enableReinitialize:!0}),l=r(n&&n.id?"Edit Task":"New Task");return o.a.createElement(na,{translate:r,values:i.values,errors:i.errors,onCancel:t,disabled:i.isSubmitting,onSubmit:i.handleSubmit,onChange:i.handleChange,title:l})},ra=Object(s.a)((function(e){return{paper:{padding:e.spacing(2),height:"auto"}}}));function ia(e){var t=e.title,a=e.values,r=e.errors,i=e.disabled,l=e.translate,c=e.onSubmit,s=e.onChange,u=e.onCancel,d=ra(),m=Object(n.useCallback)((function(e){s&&s(e)}),[s]),p=Object(n.useCallback)((function(e){u&&u(e)}),[u]),g=Object(n.useCallback)((function(e){e.preventDefault(),c&&c(e)}),[c]);return o.a.createElement("form",{onSubmit:g,noValidate:!0},o.a.createElement($t,{className:d.paper},o.a.createElement(it.a,{container:!0,justify:"center",spacing:2},o.a.createElement(it.a,{item:!0,xs:12},o.a.createElement(f.a,{variant:"h5",align:"center",gutterBottom:!0},t),o.a.createElement(nt.a,null)),o.a.createElement(it.a,{item:!0,xs:12},o.a.createElement(Le.a,{id:"name",name:"name",label:l("Name"),margin:"dense",disabled:i,error:Boolean(r.name),helperText:r.name,value:a.name,onChange:m,fullWidth:!0,required:!0})),o.a.createElement(it.a,{item:!0,xs:12},o.a.createElement(Le.a,{id:"description",name:"description",label:l("Description"),rows:4,disabled:i,error:Boolean(r.description),helperText:r.description,value:a.description,onChange:m,fullWidth:!0,multiline:!0})),o.a.createElement(it.a,{item:!0,xs:12,align:"right"},o.a.createElement(h.a,{variant:"outlined",disabled:i,onClick:p},l("Cancel")),"\xa0",o.a.createElement(h.a,{color:"primary",variant:"contained",type:"submit",disabled:i},l("Save"))))))}ia.defaultProps={values:{},errors:{},disabled:!1,title:"New Project",translate:L};var la=ia,ca=Object(s.a)((function(){return{container:{maxWidth:500,marginRight:"auto",marginLeft:"auto"}}}));var sa=function(e){var t=e.onCancel,a=e.onSubmit,n=e.initialValues,r=ca(),i=Object(Ce.a)().t,l=Object(mt.a)({initialValues:Ue({name:"",description:""},n),validate:function(e){var t={};return e.name||(t.name=i("Name is required.")),t},onSubmit:function(e,t){var n=t.setSubmitting;a(e),n(!1)}}),c=l.values,s=l.errors,u=l.isSubmitting,d=l.handleChange,m=l.handleSubmit,h=c&&c.id,f=i(h?"Edit Project":"New Project");return o.a.createElement("div",{className:r.container},o.a.createElement(la,{title:f,translate:i,values:c,errors:s,onCancel:t,onChange:d,onSubmit:m,disabled:u}))},ua=a(259),da=Object(s.a)((function(){return{paper:{flexDirection:"column",alignItems:"flex-start"},fullWidth:{width:"100%"}}}));function ma(e){var t=e.className,a=e.project,r=e.progress,i=e.onClick,l=e.onEdit,c=e.onDelete,s=e.showEditButton,u=e.showDeleteButton,d=da(),m=Object(n.useCallback)((function(e){i&&i(e,a)}),[a,i]),h=Object(n.useCallback)((function(e){l&&l(e,a)}),[a,l]),p=Object(n.useCallback)((function(e){c&&c(e,a)}),[a,c]);return o.a.createElement($t,{className:Object(ft.a)(d.paper,t),onClick:m},o.a.createElement(Je.a,{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},o.a.createElement(f.a,{variant:"h4",color:"primary",noWrap:!0,title:a.name},a.name),o.a.createElement(Je.a,{display:"flex"},s&&o.a.createElement(B,{icon:"edit",onClick:h}),u&&o.a.createElement(B,{icon:"delete",onClick:p}))),o.a.createElement(f.a,{variant:"subtitle1",title:a.description,className:d.fullWidth,gutterBottom:!0,noWrap:!0},a.description),o.a.createElement(ua.a,{variant:"determinate",title:"".concat(Math.round(r),"%"),value:r,className:d.fullWidth}))}ma.defaultProps={project:{},progress:0,showEditButton:!1};var ha=ma,fa=a(61),pa=a(20),ga=a(142),ba=a.n(ga),ya=Object(s.a)((function(){return{progress:{fontSize:"0.60rem"}}}));function va(e){var t=ya();return o.a.createElement(Je.a,{position:"relative",display:"inline-flex"},o.a.createElement(pt.a,Object.assign({variant:"static",size:30},e)),o.a.createElement(Je.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},o.a.createElement(f.a,{variant:"caption",component:"div",className:t.progress},"".concat(Math.round(e.value),"%"))))}va.defaultProps={value:0};var ka=va,wa=Object(s.a)((function(e){var t="dark"===e.palette.type;return{paper:{height:e.spacing(7),alignItems:"center"},mediumPriority:{color:t&&e.palette.warning.light,backgroundColor:!t&&e.palette.warning.light},highPriority:{color:t&&e.palette.error.light,backgroundColor:!t&&e.palette.error.light},progress:{display:"flex",justifyContent:"flex-end",alignItems:"center"},completedFlag:{color:e.palette.success.light,marginRight:e.spacing(.5)}}})),ja=0,Ea=1,Ca=2;function Oa(e){var t,a=e.task,r=e.onClick,i=e.onDelete,l=e.className,c=a.priority,s=void 0===c?0:c,u=a.progress,d=a.title,m=wa(),h=Object(pa.a)(),p=Object(n.useCallback)((function(e){r&&r(e,a)}),[r,a]),g=Object(n.useCallback)((function(e){i&&i(e,a)}),[i,a]),b=100===u;return o.a.createElement($t,{classes:{root:Object(ft.a)(m.paper,(t={},Object(fa.a)(t,m.mediumPriority,s===Ea),Object(fa.a)(t,m.highPriority,s===Ca),t),l)}},o.a.createElement(it.a,{container:!0,alignItems:"center"},o.a.createElement(it.a,{item:!0,xs:9,onClick:p},o.a.createElement(Je.a,{display:"flex",alignItems:"center"},b?o.a.createElement(ba.a,{className:m.completedFlag}):null,o.a.createElement(f.a,{className:Object(ft.a)(Object(fa.a)({},m.mediumPriority,s===Ea))},d))),o.a.createElement(it.a,{item:!0,xs:2,align:"right",className:m.progress,onClick:p},o.a.createElement(ka,{color:s===ja?"primary":"dark"===h.palette.type?"inherit":"secondary",value:u})),o.a.createElement(it.a,{item:!0,xs:1,align:"right"},o.a.createElement(k.a,{size:"small",onClick:g},o.a.createElement(D.a,null)))))}Oa.defaultProps={task:{}};var Na=Oa,xa=Object(s.a)((function(e){return{container:{display:"flex",flexDirection:"column",flex:1},noTasksMessageWrapper:{marginTop:e.spacing(),marginRight:"auto",marginLeft:"auto",maxWidth:500},noTasksMessage:{minWidth:500},selection:{marginRight:e.spacing()},list:{padding:"".concat(e.spacing(3),"px ").concat(e.spacing(2),"px"),height:"85%",overflow:"auto",alignContent:"baseline"},action:{maxWidth:500,marginRight:"auto",marginLeft:"auto"}}})),Sa=[{label:"Priority",value:"priority"},{label:"Progress",value:"progress"},{label:"Title",value:"title"},{label:"Created",value:"createdAt"},{label:"Updated",value:"updatedAt"}],Ta=[{label:"All",value:"all"},{label:"Pending",value:"pending"},{label:"Completed",value:"completed"}];var Da=function(e){var t=e.match,a=e.redirectToProjectList,r=t.params.projectId,i=xa(),l=Object(n.useState)({loading:!0,project:{},tasks:[],task:{}}),c=Object(u.a)(l,2),s=c[0],d=s.loading,m=s.project,p=s.tasks,g=s.task,b=c[1],y=Object(n.useState)("createdAt"),v=Object(u.a)(y,2),k=v[0],w=v[1],j=Object(n.useState)("all"),E=Object(u.a)(j,2),C=E[0],O=E[1],N=Tt(),x=Object(u.a)(N,3),S=x[0],T=x[1],D=x[2],I=Tt(),P=Object(u.a)(I,3),W=P[0],A=P[1],M=P[2],B=Tt(),J=Object(u.a)(B,3),L=J[0],R=J[1],Y=J[2],F=Object(Ce.a)().t,V=Object(n.useCallback)((function(){D(!1),b((function(e){return Object(ae.a)({},e,{task:{}})}))}),[D]),z=Object(n.useCallback)((function(e){w(e.target.value)}),[]),H=Object(n.useCallback)((function(e){O(e.target.value)}),[]),K=Object(n.useCallback)((function(e){de.updateTask(e.id,e).then((function(e){b((function(t){return Object(ae.a)({},t,{tasks:t.tasks.map((function(t){return t.id===e.id?e:t}))})})),V()}))}),[V]),G=Object(n.useCallback)((function(e){de.updateProject(e.id,e).then((function(e){b((function(t){return Object(ae.a)({},t,{project:e})})),M()}))}),[M]),U=Object(n.useCallback)((function(e){de.addTask(Object.assign({projectId:Number(r)},e)).then((function(e){b((function(t){return Object(ae.a)({},t,{tasks:[e].concat(Object(at.a)(t.tasks))})})),V()}))}),[V,r]),q=Object(n.useCallback)((function(e){(e.id?K:U)(e)}),[K,U]),X=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b((function(e){return Object(ae.a)({},e,{task:t})})),T()}),[T]),_=Object(n.useCallback)((function(e,t){de.removeTask(t.id),b((function(e){return Object(ae.a)({},e,{tasks:e.tasks.filter((function(e){return e.id!==t.id}))})}))}),[]),Q=Object(n.useCallback)((function(){A()}),[A]),$=Object(n.useCallback)((function(){p.length&&de.removeBulkTasks(p.map((function(e){return e.id}))).then((function(){b((function(e){return Object(ae.a)({},e,{tasks:[]})})),Y()}))}),[Y,p]);if(Object(n.useEffect)((function(){r?(b((function(e){return Object(ae.a)({},e,{loading:!0})})),de.fetchProject(Number(r)).then((function(e){de.fetchTasks(Number(r)).then((function(t){b((function(a){return Object(ae.a)({},a,{loading:!1,project:e,tasks:t})}))}))})).catch(a)):(b((function(e){return Object(ae.a)({},e,{loading:!1})})),a())}),[r,a]),d)return o.a.createElement(bt,null);var Z=p&&p.length,ee=function(e,t){return e.sort((function(e,a){return a[t]<e[t]?-1:a[t]>e[t]?1:0}))}(p,k);return ee=function(e,t){switch(t){case"pending":return e.filter((function(e){return 100!==e.progress}));case"completed":return e.filter((function(e){return 100===e.progress}));case"all":default:return e}}(ee,C),o.a.createElement(De.a,{in:!0},o.a.createElement("div",{className:i.container},o.a.createElement(it.a,{container:!0,spacing:2,className:i.action},o.a.createElement(it.a,{item:!0,xs:12},o.a.createElement(ha,{project:m,showEditButton:!0,onEdit:Q,progress:Z?p.reduce((function(e,t){return e+100/p.length*Number(t.progress)/100}),0):0})),o.a.createElement(it.a,{item:!0,xs:12},o.a.createElement(h.a,{color:"primary",variant:"contained",onClick:T},F("Add New Task")),"\xa0\xa0",o.a.createElement(h.a,{disabled:!p.length,color:"primary",variant:"outlined",onClick:R},F("Delete All"))),o.a.createElement(it.a,{item:!0,xs:12,md:6},o.a.createElement(Jt,{id:"task-sort-by",label:F("Sort By"),className:i.selection,menu:Sa,value:k,onChange:z,disabled:!Z}),o.a.createElement(Jt,{id:"task-filter-by",label:F("Filter By"),value:C,menu:Ta,disabled:!Z,onChange:H}))),ee&&ee.length?o.a.createElement(it.a,{container:!0,spacing:2,className:i.list},ee.map((function(e){return o.a.createElement(it.a,{item:!0,xs:12,sm:6,md:4,key:e.id},o.a.createElement(Na,{task:e,onClick:X,onDelete:_}))}))):o.a.createElement("div",{className:i.noTasksMessageWrapper},o.a.createElement(f.a,{variant:"body1",className:i.noTasksMessage},F("No available tasks."))),o.a.createElement(ot.a,{open:S,onClose:V},o.a.createElement(oa,{initialValues:g,onCancel:V,onSubmit:q})),o.a.createElement(ot.a,{open:W,onClose:M},o.a.createElement(sa,{initialValues:m,onCancel:M,onSubmit:G})),o.a.createElement(Wt,{title:F("Delete All Tasks"),content:F("Do you want to remove all the tasks ?"),open:L,onClose:Y,onConfirm:$})))},Ia=[{label:"All",value:"all"},{label:"Pending",value:"pending"},{label:"Completed",value:"completed"}],Pa=[{label:"Progress",value:"progress"},{label:"Name",value:"name"}];var Wa=Object(s.a)((function(e){return{container:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},list:{flex:1,marginTop:e.spacing(),overflow:"auto",padding:e.spacing(3.5)},card:{marginBottom:e.spacing(3.5)},action:{marginTop:e.spacing(1)}}}));var Aa=function(e){var t=e.onClick,a=e.onNew,r=Wa(),i=Object(Ce.a)().t,l=Object(n.useState)(!0),c=Object(u.a)(l,2),s=c[0],d=c[1],m=Object(n.useState)([]),p=Object(u.a)(m,2),g=p[0],b=p[1],y=Object(n.useState)(null),v=Object(u.a)(y,2),k=v[0],w=v[1],j=Object(n.useState)(!1),E=Object(u.a)(j,2),C=E[0],O=E[1],N=Object(n.useState)("all"),x=Object(u.a)(N,2),S=x[0],T=x[1],D=Object(n.useState)("name"),I=Object(u.a)(D,2),P=I[0],W=I[1],A=Tt(),M=Object(u.a)(A,3),B=M[0],J=M[1],L=M[2];Object(n.useEffect)((function(){de.fetchProjects().then(function(){var e=Object(ne.a)(te.a.mark((function e(t){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return de.fetchTasks(Number(e.id))})));case 2:a=e.sent,t=t.map((function(e,t){var n=a[t];return e.tasks=n,e.progress=n&&n.length?n.reduce((function(e,t){return e+100/n.length*Number(t.progress)/100}),0):0,e})),d(!1),b(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){d(!1)}))}),[]);var R=function(e,a){t(a.id)},Y=Object(n.useCallback)((function(e,t){e.stopPropagation(),O(!0),w(t)}),[]),F=Object(n.useCallback)((function(){O(!1),w(null)}),[]),V=Object(n.useCallback)((function(){var e=k.id;de.removeProject(e).then((function(){b((function(t){return t.filter((function(t){return t.id!==e}))}))})),F()}),[k,F]),z=Object(n.useCallback)((function(){if(g.length){var e=g.reduce((function(e,t){var a=e.projectIds,n=e.taskIds;return{projectIds:[].concat(Object(at.a)(a),[t.id]),taskIds:[].concat(Object(at.a)(n),Object(at.a)(t.tasks.map((function(e){return e.id}))))}}),{projectIds:[],taskIds:[]}),t=e.projectIds,a=e.taskIds;de.removeBulkProjects(t).then(Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.removeBulkTasks(a);case 2:b([]),L();case 4:case"end":return e.stop()}}),e)}))))}}),[L,g]),H=Object(n.useCallback)((function(e){T(e.target.value)}),[]),K=Object(n.useCallback)((function(e){W(e.target.value)}),[]),G=g&&g.length,U=function(e,t){return e.sort((function(e,a){return a[t]<e[t]?-1:a[t]>e[t]?1:0}))}(g,P);return U=function(e,t){switch(t){case"pending":return e.filter((function(e){return 100!==e.progress}));case"completed":return e.filter((function(e){return 100===e.progress}));case"all":default:return e}}(g,S),s?o.a.createElement(bt,null):o.a.createElement(De.a,{in:!0},o.a.createElement("div",{className:r.container},o.a.createElement("div",null,o.a.createElement(f.a,{variant:"h5",gutterBottom:!0},i("Projects")),o.a.createElement(h.a,{variant:"contained",color:"primary",onClick:a},i("Add New Project")),"\xa0\xa0",o.a.createElement(h.a,{disabled:!g.length,color:"primary",variant:"outlined",onClick:J},i("Delete All"))),o.a.createElement("div",{className:r.action},o.a.createElement(Jt,{id:"project-sort-by",label:i("Sort By"),className:r.selection,menu:Pa,value:P,onChange:K,disabled:!G}),"\xa0",o.a.createElement(Jt,{id:"project-filter-by",label:i("Filter By"),value:S,menu:Ia,disabled:!G,onChange:H})),o.a.createElement("div",{className:r.list},G&&U.length?o.a.createElement(it.a,{container:!0,spacing:3},U.map((function(e){return o.a.createElement(it.a,{item:!0,xs:12,sm:6,md:4,key:e.id},o.a.createElement(ha,{project:e,progress:e.progress,className:r.card,onClick:R,onDelete:Y,showDeleteButton:!0}))}))):o.a.createElement(f.a,{variant:"body1"},i("No available projects."))),o.a.createElement(Wt,{title:i("Delete Project"),content:i("Delete ".concat(null===k||void 0===k?void 0:k.name," and related tasks ?")),open:C,translate:i,onClose:F,onConfirm:V}),o.a.createElement(Wt,{title:i("Delete All Projects"),content:i("Do you want to remove all the projects ?"),open:B,translate:i,onClose:L,onConfirm:z})))},Ma=Object(s.a)((function(e){return{container:{flex:1,display:"flex",justifyContent:"center"},content:{flex:1,display:"flex",padding:e.spacing(3.5)}}}));var Ba=function(e){var t=e.match,a=e.history,r=t.path,i=t.url,l=Ma(),s=Object(n.useCallback)((function(e){a.push(e)}),[a]),u=Object(n.useCallback)((function(){s(Ge(i,"/new"))}),[s,i]),d=Object(n.useCallback)((function(e){s(Ge(i,"/",e))}),[i,s]),m=Object(n.useCallback)((function(){s(i)}),[s,i]),h=Object(n.useCallback)((function(e){de.addProject(e).then(m)}),[m]);return o.a.createElement("div",{className:l.container},o.a.createElement("div",{className:l.content},o.a.createElement(c.c,null,o.a.createElement(c.a,{path:Ge(r,"/new"),render:qe(sa,{onCancel:m,onSubmit:h})}),o.a.createElement(c.a,{path:Ge(r,"/:projectId"),render:qe(Da,{redirectToProjectList:m})}),o.a.createElement(c.a,{path:r,render:qe(Aa,{onClick:d,onNew:u})}))))},Ja=Object(s.a)((function(e){return{root:{padding:e.spacing(1),height:"100%"},topbar:{height:e.spacing(8)},main:{display:"flex",height:"calc(100% - ".concat(e.spacing(8),"px)"),width:"100%",overflow:"auto"}}}));var La=function(){var e=Ja();return o.a.createElement("div",{className:e.root},o.a.createElement(Te,null),o.a.createElement("div",{className:e.topbar}),o.a.createElement("main",{className:e.main},o.a.createElement(c.c,null,o.a.createElement(c.a,{path:"/projects",component:Ba}),o.a.createElement(c.a,{path:"/",component:Xt}))))},Ra=a(75);var Ya=function(e){var t=e.children;return o.a.createElement(Ra.a,{maxSnack:3},t)};var Fa=function(){return o.a.createElement(he,null,o.a.createElement(l.a,null,o.a.createElement(Se,null,o.a.createElement(Ya,null,o.a.createElement(La,null)))))},Va=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function za(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(183);i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Fa,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");Va?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):za(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):za(t,e)}))}}()}},[[165,1,3]]]);
//# sourceMappingURL=main.e04f8572.chunk.js.map